<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Guild Member Stats</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="navbar.js" defer></script>
  <link rel="stylesheet" href="statistics.css">
  <style>

  </style>
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar" id="navbar">
    <div class="nav-container">
      <button class="hamburger-btn" id="hamburgerBtn" aria-label="Open menu">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="3" y1="6" x2="21" y2="6"></line>
          <line x1="3" y1="12" x2="21" y2="12"></line>
          <line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
      </button>
      <div class="logo" style="font-family: Arial, sans-serif;">LOLICONLOVE</div>
      
      <ul class="desktop-nav">
        <li><a href="index.html">Beranda</a></li>
        <li><a href="contact.html">Kontak</a></li>
      </ul>
    </div>
  </nav>

  <div class="overlay" id="overlay"></div>

  <!-- Mobile Navigation Menu -->
  <div class="nav-menu" id="navMenu">
    <button class="close-btn" id="closeBtn" aria-label="Close menu">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <line x1="18" y1="6" x2="6" y2="18"></line>
        <line x1="6" y1="6" x2="18" y2="18"></line>
      </svg>
    </button>
    <ul class="nav-links">
      <li><a href="index.html">Beranda</a></li>
      <li><a href="contact.html">Kontak</a></li>
    </ul>
  </div>

  <div class="stats-wrapper">
    <h1 class="stats-header">Guild Member Statistics</h1>
    <div class="member-cards-grid" id="memberCardsContainer"></div>
  </div>

  <script>

    const guildMembers = [
      { name: "Nella", role: "guildmaster", avatar: "char potrait/Daisy_Myth.png", 
        stats: { light: 124094, basic: 145673, dark: 100293, fire: 145653, earth: 101233, water: 90143 }},
      { name: "Rozaliya", role: "officer", avatar: "char potrait/Andras_Housebreaker.png",
        stats: { light: 136789, basic: 167793, dark: 96923, fire: 100392, earth: 133948, water: 113912 }},
      { name: "Glenn", role: "member", avatar: "char potrait/Callie_Myth.png",
        stats: { light: 134567, basic: 168765, dark: 167890, fire: 122345, earth: 129654, water: 121200 }},
      { name: "Lemonchu", role: "member", avatar: "char potrait/Daisy_Myth.png",
        stats: { light: 124567, basic: 168768, dark: 157890, fire: 102345, earth: 129654, water: 111200 }},
      { name: "Liliya", role: "member", avatar: "char potrait/Kanna_Super Costume.png",
        stats: { light: 94567, basic: 148765, dark: 147890, fire: 92345, earth: 101654, water: 81200 }},
      { name: "tfpznf", role: "member", avatar: "char potrait/Future Princess_Super Costume.png",
        stats: { light: 44567, basic: 88765, dark: 77890, fire: 42345, earth: 79654, water: 11200 }},
      { name: "Rubyyy", role: "member", avatar: "char potrait/Idol Captain Eva_Myth.png",
        stats: { light: 94567, basic: 128765, dark: 117890, fire: 72345, earth: 99654, water: 71200 }},
      { name: "No013", role: "member", avatar: "char potrait/Future Knight_Super Costume.png",
        stats: { light: 94567, basic: 102135, dark: 127890, fire: 82345, earth: 99654, water: 61200 }},
      { name: "Gorbe", role: "member", avatar: "Kamael_Super Costume.png",
        stats: { light: 94567, basic: 118765, dark: 97890, fire: 82345, earth: 99654, water: 71200 }},
      { name: "Noxa", role: "member", avatar: "Kamel_Super Costume.png",
        stats: { light: 74567, basic: 78765, dark: 57890, fire: 52345, earth: 59654, water: 41200 }},
      { name: "SomeRandom", role: "member", avatar: "char potrait/Beach Cleanup Hitter Rie_Myth.png",
        stats: { light: 74567, basic: 98765, dark: 67890, fire: 42345, earth: 89654, water: 51200 }},
      { name: "Swhite", role: "member", avatar: "char potrait/Gabriel_Myth.png",
        stats: { light: 94567, basic: 108765, dark: 107890, fire: 82345, earth: 99654, water: 71200 }},
      { name: "Adimas", role: "member", avatar: "char potrait/Flint_Myth.png",
        stats: { light: 54567, basic: 42765, dark: 87890, fire: 32345, earth: 39654, water: 31200 }},
    ];

    // Randomly determine participation count (13-30)
    const participationCount = Math.floor(Math.random() * 7) + 13;
    const activeMembersCount = Math.min(participationCount, guildMembers.length);

    function formatNumber(num) {
      return num.toLocaleString();
    }

    function createMemberCard(member, index) {
      const card = document.createElement('div');
      card.className = 'member-profile-card';
      card.innerHTML = `
        <div class="card-header-section">
          <div class="character-avatar-wrapper">
            <div class="character-avatar" style="background-image: url('${member.avatar}')"></div>
          </div>
          <div class="member-info-section">
            <div class="guild-member-name">${member.name}</div>
            <div class="guild-member-rank ${member.role}">${member.role}</div>
          </div>
        </div>

        <hr class="card-divider">

        <div class="dmg-average-title">Rata-rata DMG Harian</div>

        <div class="element-stats-grid">
          <div class="element-stat-box">
            <div class="element-type-label">Light</div>
            <div class="element-damage-value">${formatNumber(member.stats.light)}</div>
          </div>
          <div class="element-stat-box">
            <div class="element-type-label">Basic</div>
            <div class="element-damage-value">${formatNumber(member.stats.basic)}</div>
          </div>
          <div class="element-stat-box">
            <div class="element-type-label">Dark</div>
            <div class="element-damage-value">${formatNumber(member.stats.dark)}</div>
          </div>
          <div class="element-stat-box">
            <div class="element-type-label">Fire</div>
            <div class="element-damage-value">${formatNumber(member.stats.fire)}</div>
          </div>
          <div class="element-stat-box">
            <div class="element-type-label">Earth</div>
            <div class="element-damage-value">${formatNumber(member.stats.earth)}</div>
          </div>
          <div class="element-stat-box">
            <div class="element-type-label">Water</div>
            <div class="element-damage-value">${formatNumber(member.stats.water)}</div>
          </div>
        </div>

        <div class="radar-chart-wrapper">
          <canvas id="radarChart${index}"></canvas>
        </div>
      `;
      return card;
    }

    function createRadarChart(canvasId, stats) {
      const ctx = document.getElementById(canvasId);
      new Chart(ctx, {
        type: 'radar',
        data: {
          labels: ['Fire', 'Water', 'Earth', 'Dark', 'Basic', 'Light'],
          datasets: [{
            label: '',
            data: [stats.fire, stats.water, stats.earth, stats.dark, stats.basic, stats.light],
            backgroundColor: 'rgba(96, 165, 250, 0.2)',
            borderColor: 'rgba(96, 165, 250, 1)',
            pointBackgroundColor: 'rgba(96, 165, 250, 1)',
            pointBorderColor: '#fff',
            pointHoverBackgroundColor: '#fff',
            pointHoverBorderColor: 'rgba(96, 165, 250, 1)'
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          scales: {
            r: {
              angleLines: { color: 'rgba(255, 255, 255, 0.2)' },
              grid: { color: 'rgba(255, 255, 255, 0.1)' },
              pointLabels: {
                color: '#fff',
                font: {
                  size: 13,
                  weight: 'bold'
                }
              },
              suggestedMin: 0,
              suggestedMax: 200000,
              ticks: {
                display: false
              }
            }
          },
          plugins: {
            legend: {
              display: false
            }
          }
        }
      });
    }

    // Render cards
    const container = document.getElementById('memberCardsContainer');
    for (let i = 0; i < activeMembersCount; i++) {
      const card = createMemberCard(guildMembers[i], i);
      container.appendChild(card);
      
      // Create chart after card is in DOM
      setTimeout(() => {
        createRadarChart(`radarChart${i}`, guildMembers[i].stats);
      }, 0);
    }

    console.log(`Showing ${activeMembersCount} out of ${guildMembers.length} members`);

  </script>
</body>
</html>

